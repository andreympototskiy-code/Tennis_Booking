#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Tennis Monitor v2.0 - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
"""

import sys
import os
from datetime import datetime, timedelta

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –ø—É—Ç—å
sys.path.insert(0, '/root/tennis-monitor')

from integrated_monitor_booking import IntegratedMonitorBooking

def demo_v2():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤–µ—Ä—Å–∏–∏ 2.0"""
    print("üéæ TENNIS MONITOR v2.0 - –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø")
    print("=" * 60)
    print("‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:")
    print("  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–Ω–Ω–∏—Å–Ω—ã—Ö –∫–æ—Ä—Ç–æ–≤")
    print("  ‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è")
    print("  ‚Ä¢ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–æ—Ä—Ç–∞—Ö")
    print("  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    print("  ‚Ä¢ –í—ã–±–æ—Ä '–û–ø–ª–∞—Ç–∞ –≤ –∫–ª—É–±–µ'")
    print("=" * 60)
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É
    system = IntegratedMonitorBooking()
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞ –∑–∞–≤—Ç—Ä–∞
    tomorrow = (datetime.now() + timedelta(days=1)).strftime('%Y-%m-%d')
    
    print(f"\nüìÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ {tomorrow}")
    print("-" * 40)
    
    # 1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∞–≤—Ç–æ–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    print("1Ô∏è‚É£ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—Ä—Ç–æ–≤...")
    success, message = system.monitor_and_book(
        date=tomorrow,
        time_from=22,
        duration_hours=2,
        auto_book=False,
        simulation=True
    )
    
    if success:
        print("‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω")
        if "–ù–∞–π–¥–µ–Ω —Å–≤–æ–±–æ–¥–Ω—ã–π –∫–æ—Ä—Ç" in message:
            print("üéØ –ù–∞–π–¥–µ–Ω –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ—Ä—Ç!")
        elif "–î–æ—Å—Ç—É–ø–Ω—ã —á–∞—Å—Ç–∏—á–Ω—ã–µ —Å–ª–æ—Ç—ã" in message:
            print("‚ö†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏—á–Ω—ã–µ —Å–ª–æ—Ç—ã")
    else:
        print("‚ùå –°–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—Ä—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")
    
    print(f"\nüì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")
    
    # 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    if success and "–ù–∞–π–¥–µ–Ω —Å–≤–æ–±–æ–¥–Ω—ã–π –∫–æ—Ä—Ç" in message:
        print("\n2Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...")
        booking_success, booking_message = system.monitor_and_book(
            date=tomorrow,
            time_from=22,
            duration_hours=2,
            auto_book=True,
            simulation=True
        )
        
        if booking_success:
            print("‚úÖ –ê–≤—Ç–æ–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
            print(f"üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ")
        else:
            print("‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è")
    
    print("\n" + "=" * 60)
    print("üéØ –í–û–ó–ú–û–ñ–ù–û–°–¢–ò –°–ò–°–¢–ï–ú–´:")
    print("=" * 60)
    print("üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:")
    print("  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—Ä—Ç–æ–≤")
    print("  ‚Ä¢ –ê–Ω–∞–ª–∏–∑ 30-–º–∏–Ω—É—Ç–Ω—ã—Ö —è—á–µ–µ–∫")
    print("  ‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 2-—á–∞—Å–æ–≤—ã—Ö —Å–ª–æ—Ç–æ–≤")
    print("  ‚Ä¢ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –∫–æ—Ä—Ç–∞–º")
    
    print("\nü§ñ –ê–≤—Ç–æ–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:")
    print("  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã")
    print("  ‚Ä¢ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –ü–æ—Ç–æ—Ü–∫–∏–π –ê–Ω–¥—Ä–µ–π")
    print("  ‚Ä¢ –¢–µ–ª–µ—Ñ–æ–Ω: +79313203496")
    print("  ‚Ä¢ Email: andrey.m.pototskiy@gmail.com")
    print("  ‚Ä¢ –û–ø–ª–∞—Ç–∞ –≤ –∫–ª—É–±–µ")
    
    print("\nüì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:")
    print("  ‚Ä¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–æ—Ä—Ç–∞—Ö")
    print("  ‚Ä¢ –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è")
    print("  ‚Ä¢ –°—Å—ã–ª–∫–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è")
    
    print("\n‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏:")
    print("  ‚Ä¢ –í—Ä–µ–º—è: 22:00-00:00 (2 —á–∞—Å–∞)")
    print("  ‚Ä¢ –¢–∏–ø –∫–æ—Ä—Ç–∞: –ì—Ä—É–Ω—Ç")
    print("  ‚Ä¢ –†–µ–∂–∏–º: –°–∏–º—É–ª—è—Ü–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ)")
    print("  ‚Ä¢ –ê–≤—Ç–æ–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü–æ –∑–∞–ø—Ä–æ—Å—É")
    
    print("\n" + "=" * 60)
    print("üöÄ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!")
    print("=" * 60)

if __name__ == "__main__":
    demo_v2()
